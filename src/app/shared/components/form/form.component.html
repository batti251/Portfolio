<form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">
  <p>
    <mat-form-field appearance="outline">
      <mat-label for="name" name="name">
       @if (!name.valid && !name.pristine){
          {{
        "footer.form1.error" | translate
      }}
        } @else  {
        {{
        "footer.form1" | translate
      }}
        }
      </mat-label>
      <input
        [(ngModel)]="newMessage.name"
        type="name"
        name="name"
        autocomplete="new-name"
        matInput
        placeholder=""
        required
        pattern=".*\S.*"
        #name="ngModel"
      />
    </mat-form-field>
  </p>

  <p>
    <mat-form-field appearance="outline">
      <mat-label for="email" name="email">
         @if (!mail.valid && !mail.pristine){
          {{
        "footer.form2.error" | translate
      }}
        } @else  {
        {{
        "footer.form2" | translate
      }}
        }</mat-label>
      <input
        [(ngModel)]="newMessage.email"
        matInput
        type="email"
        name="email"
        autocomplete="new-email"
        placeholder="you@example.com"
        pattern="[a-zA-Z0-9._%+\-]+@([a-zA-Z0-9\-]+\.)+[a-zA-Z]{2,}"
        required
        #mail="ngModel"
      />
    </mat-form-field>
  </p>

  <p>
    <mat-form-field appearance="outline">
      <mat-label for="message" name="message">
        @if (!message.valid && !message.pristine){
          {{
        "footer.form3.error" | translate
      }}
        } @else {
        {{
        "footer.form3" | translate
      }}
      }
      
    </mat-label>
      <textarea
      class="textarea"
        [(ngModel)]="newMessage.message"
        name="message"
        matInput
        minlength="5"
        placeholder="Happy to hear from you"
        pattern="([\s\S]*\S){5,}[\s\S]*"
        required=""
        #message="ngModel"
      ></textarea>
    </mat-form-field>
  </p>
  <p class="checkbox-caption">
    <mat-checkbox class="checkbox" [(ngModel)]="policy" name="policy"></mat-checkbox>
    <span>{{ "footer.policy.text1" | translate }}</span>
    <a href="privacy" target="_blank" rel="noopener noreferrer" class="text-highlight">{{
      "footer.policy.highlight" | translate
    }}</a>
     <span>{{ "footer.policy.text2" | translate }}</span>
  </p>
    <input class="button" type="submit" value="Send Email" [disabled]="!policy || !contactForm.valid"/>
</form>
